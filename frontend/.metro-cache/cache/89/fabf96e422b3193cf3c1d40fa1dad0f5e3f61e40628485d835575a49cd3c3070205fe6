{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [username, setUsername] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadToken();\n    }, []);\n    const loadToken = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUsername = await AsyncStorage.default.getItem('username');\n        if (storedToken && storedUsername) {\n          setToken(storedToken);\n          setUsername(storedUsername);\n          setIsAuthenticated(true);\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          username: user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('username', user);\n        setToken(access_token);\n        setUsername(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          username: user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('username', user);\n        setToken(access_token);\n        setUsername(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('username');\n      setToken(null);\n      setUsername(null);\n      setIsAuthenticated(false);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        username,\n        token,\n        login,\n        register,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":127,"map":[[13,2,19,0,"Object"],[13,8,19,0],[13,9,19,0,"defineProperty"],[13,23,19,0],[13,24,19,0,"exports"],[13,31,19,0],[14,4,19,0,"enumerable"],[14,14,19,0],[15,4,19,0,"get"],[15,7,19,0],[15,18,19,0,"get"],[15,19,19,0],[16,6,19,0],[16,13,19,0,"AuthProvider"],[16,25,19,0],[17,4,19,0],[18,2,19,0],[19,2,94,0,"Object"],[19,8,94,0],[19,9,94,0,"defineProperty"],[19,23,94,0],[19,24,94,0,"exports"],[19,31,94,0],[20,4,94,0,"enumerable"],[20,14,94,0],[21,4,94,0,"get"],[21,7,94,0],[21,18,94,0,"get"],[21,19,94,0],[22,6,94,0],[22,13,94,0,"useAuth"],[22,20,94,0],[23,4,94,0],[24,2,94,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"BACKEND_URL"],[31,19,5,17],[31,22,5,20,"process"],[31,29,5,27],[31,30,5,28,"env"],[31,33,5,31],[31,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,5,55],[32,2,17,0],[32,8,17,6,"AuthContext"],[32,19,17,17],[32,35,17,20],[32,39,17,20,"createContext"],[32,45,17,33],[32,46,17,33,"createContext"],[32,59,17,33],[32,61,17,63,"undefined"],[32,70,17,72],[32,71,17,73],[33,2,19,7],[33,8,19,13,"AuthProvider"],[33,20,19,66],[33,23,19,69,"AuthProvider"],[33,24,19,70],[34,4,19,72,"children"],[35,2,19,81],[35,3,19,82],[35,8,19,87],[36,4,20,2],[36,10,20,8],[36,11,20,9,"isAuthenticated"],[36,26,20,24],[36,28,20,26,"setIsAuthenticated"],[36,46,20,44],[36,47,20,45],[36,50,20,48],[36,54,20,48,"useState"],[36,60,20,56],[36,61,20,56,"useState"],[36,69,20,56],[36,71,20,57],[36,76,20,62],[36,77,20,63],[37,4,21,2],[37,10,21,8],[37,11,21,9,"username"],[37,19,21,17],[37,21,21,19,"setUsername"],[37,32,21,30],[37,33,21,31],[37,36,21,34],[37,40,21,34,"useState"],[37,46,21,42],[37,47,21,42,"useState"],[37,55,21,42],[37,57,21,58],[37,61,21,62],[37,62,21,63],[38,4,22,2],[38,10,22,8],[38,11,22,9,"token"],[38,16,22,14],[38,18,22,16,"setToken"],[38,26,22,24],[38,27,22,25],[38,30,22,28],[38,34,22,28,"useState"],[38,40,22,36],[38,41,22,36,"useState"],[38,49,22,36],[38,51,22,52],[38,55,22,56],[38,56,22,57],[39,4,23,2],[39,10,23,8],[39,11,23,9,"loading"],[39,18,23,16],[39,20,23,18,"setLoading"],[39,30,23,28],[39,31,23,29],[39,34,23,32],[39,38,23,32,"useState"],[39,44,23,40],[39,45,23,40,"useState"],[39,53,23,40],[39,55,23,41],[39,59,23,45],[39,60,23,46],[40,4,25,2],[40,8,25,2,"useEffect"],[40,14,25,11],[40,15,25,11,"useEffect"],[40,24,25,11],[40,26,25,12],[40,32,25,18],[41,6,26,4,"loadToken"],[41,15,26,13],[41,16,26,14],[41,17,26,15],[42,4,27,2],[42,5,27,3],[42,7,27,5],[42,9,27,7],[42,10,27,8],[43,4,29,2],[43,10,29,8,"loadToken"],[43,19,29,17],[43,22,29,20],[43,28,29,20,"loadToken"],[43,29,29,20],[43,34,29,32],[44,6,30,4],[44,10,30,8],[45,8,31,6],[45,14,31,12,"storedToken"],[45,25,31,23],[45,28,31,26],[45,34,31,32,"AsyncStorage"],[45,46,31,44],[45,47,31,44,"default"],[45,54,31,44],[45,55,31,45,"getItem"],[45,62,31,52],[45,63,31,53],[45,70,31,60],[45,71,31,61],[46,8,32,6],[46,14,32,12,"storedUsername"],[46,28,32,26],[46,31,32,29],[46,37,32,35,"AsyncStorage"],[46,49,32,47],[46,50,32,47,"default"],[46,57,32,47],[46,58,32,48,"getItem"],[46,65,32,55],[46,66,32,56],[46,76,32,66],[46,77,32,67],[47,8,33,6],[47,12,33,10,"storedToken"],[47,23,33,21],[47,27,33,25,"storedUsername"],[47,41,33,39],[47,43,33,41],[48,10,34,8,"setToken"],[48,18,34,16],[48,19,34,17,"storedToken"],[48,30,34,28],[48,31,34,29],[49,10,35,8,"setUsername"],[49,21,35,19],[49,22,35,20,"storedUsername"],[49,36,35,34],[49,37,35,35],[50,10,36,8,"setIsAuthenticated"],[50,28,36,26],[50,29,36,27],[50,33,36,31],[50,34,36,32],[51,8,37,6],[52,6,38,4],[52,7,38,5],[52,8,38,6],[52,15,38,13,"error"],[52,20,38,18],[52,22,38,20],[53,8,39,6,"console"],[53,15,39,13],[53,16,39,14,"error"],[53,21,39,19],[53,22,39,20],[53,44,39,42],[53,46,39,44,"error"],[53,51,39,49],[53,52,39,50],[54,6,40,4],[54,7,40,5],[54,16,40,14],[55,8,41,6,"setLoading"],[55,18,41,16],[55,19,41,17],[55,24,41,22],[55,25,41,23],[56,6,42,4],[57,4,43,2],[57,5,43,3],[58,4,45,2],[58,10,45,8,"login"],[58,15,45,13],[58,18,45,16],[58,24,45,16,"login"],[58,25,45,23,"username"],[58,33,45,39],[58,35,45,41,"password"],[58,43,45,57],[58,48,45,62],[59,6,46,4],[59,10,46,8],[60,8,47,6],[60,14,47,12,"response"],[60,22,47,20],[60,25,47,23],[60,31,47,29,"axios"],[60,36,47,34],[60,37,47,34,"default"],[60,44,47,34],[60,45,47,35,"post"],[60,49,47,39],[60,50,47,40],[60,53,47,43,"BACKEND_URL"],[60,64,47,54],[60,81,47,71],[60,83,47,73],[61,10,48,8,"username"],[61,18,48,16],[62,10,49,8,"password"],[63,8,50,6],[63,9,50,7],[63,10,50,8],[64,8,51,6],[64,14,51,12],[65,10,51,14,"access_token"],[65,22,51,26],[66,10,51,28,"username"],[66,18,51,36],[66,20,51,38,"user"],[67,8,51,43],[67,9,51,44],[67,12,51,47,"response"],[67,20,51,55],[67,21,51,56,"data"],[67,25,51,60],[68,8,52,6],[68,14,52,12,"AsyncStorage"],[68,26,52,24],[68,27,52,24,"default"],[68,34,52,24],[68,35,52,25,"setItem"],[68,42,52,32],[68,43,52,33],[68,50,52,40],[68,52,52,42,"access_token"],[68,64,52,54],[68,65,52,55],[69,8,53,6],[69,14,53,12,"AsyncStorage"],[69,26,53,24],[69,27,53,24,"default"],[69,34,53,24],[69,35,53,25,"setItem"],[69,42,53,32],[69,43,53,33],[69,53,53,43],[69,55,53,45,"user"],[69,59,53,49],[69,60,53,50],[70,8,54,6,"setToken"],[70,16,54,14],[70,17,54,15,"access_token"],[70,29,54,27],[70,30,54,28],[71,8,55,6,"setUsername"],[71,19,55,17],[71,20,55,18,"user"],[71,24,55,22],[71,25,55,23],[72,8,56,6,"setIsAuthenticated"],[72,26,56,24],[72,27,56,25],[72,31,56,29],[72,32,56,30],[73,6,57,4],[73,7,57,5],[73,8,57,6],[73,15,57,13,"error"],[73,20,57,23],[73,22,57,25],[74,8,58,6],[74,14,58,12],[74,18,58,16,"Error"],[74,23,58,21],[74,24,58,22,"error"],[74,29,58,27],[74,30,58,28,"response"],[74,38,58,36],[74,40,58,38,"data"],[74,44,58,42],[74,46,58,44,"detail"],[74,52,58,50],[74,56,58,54],[74,70,58,68],[74,71,58,69],[75,6,59,4],[76,4,60,2],[76,5,60,3],[77,4,62,2],[77,10,62,8,"register"],[77,18,62,16],[77,21,62,19],[77,27,62,19,"register"],[77,28,62,26,"username"],[77,36,62,42],[77,38,62,44,"password"],[77,46,62,60],[77,51,62,65],[78,6,63,4],[78,10,63,8],[79,8,64,6],[79,14,64,12,"response"],[79,22,64,20],[79,25,64,23],[79,31,64,29,"axios"],[79,36,64,34],[79,37,64,34,"default"],[79,44,64,34],[79,45,64,35,"post"],[79,49,64,39],[79,50,64,40],[79,53,64,43,"BACKEND_URL"],[79,64,64,54],[79,84,64,74],[79,86,64,76],[80,10,65,8,"username"],[80,18,65,16],[81,10,66,8,"password"],[82,8,67,6],[82,9,67,7],[82,10,67,8],[83,8,68,6],[83,14,68,12],[84,10,68,14,"access_token"],[84,22,68,26],[85,10,68,28,"username"],[85,18,68,36],[85,20,68,38,"user"],[86,8,68,43],[86,9,68,44],[86,12,68,47,"response"],[86,20,68,55],[86,21,68,56,"data"],[86,25,68,60],[87,8,69,6],[87,14,69,12,"AsyncStorage"],[87,26,69,24],[87,27,69,24,"default"],[87,34,69,24],[87,35,69,25,"setItem"],[87,42,69,32],[87,43,69,33],[87,50,69,40],[87,52,69,42,"access_token"],[87,64,69,54],[87,65,69,55],[88,8,70,6],[88,14,70,12,"AsyncStorage"],[88,26,70,24],[88,27,70,24,"default"],[88,34,70,24],[88,35,70,25,"setItem"],[88,42,70,32],[88,43,70,33],[88,53,70,43],[88,55,70,45,"user"],[88,59,70,49],[88,60,70,50],[89,8,71,6,"setToken"],[89,16,71,14],[89,17,71,15,"access_token"],[89,29,71,27],[89,30,71,28],[90,8,72,6,"setUsername"],[90,19,72,17],[90,20,72,18,"user"],[90,24,72,22],[90,25,72,23],[91,8,73,6,"setIsAuthenticated"],[91,26,73,24],[91,27,73,25],[91,31,73,29],[91,32,73,30],[92,6,74,4],[92,7,74,5],[92,8,74,6],[92,15,74,13,"error"],[92,20,74,23],[92,22,74,25],[93,8,75,6],[93,14,75,12],[93,18,75,16,"Error"],[93,23,75,21],[93,24,75,22,"error"],[93,29,75,27],[93,30,75,28,"response"],[93,38,75,36],[93,40,75,38,"data"],[93,44,75,42],[93,46,75,44,"detail"],[93,52,75,50],[93,56,75,54],[93,77,75,75],[93,78,75,76],[94,6,76,4],[95,4,77,2],[95,5,77,3],[96,4,79,2],[96,10,79,8,"logout"],[96,16,79,14],[96,19,79,17],[96,25,79,17,"logout"],[96,26,79,17],[96,31,79,29],[97,6,80,4],[97,12,80,10,"AsyncStorage"],[97,24,80,22],[97,25,80,22,"default"],[97,32,80,22],[97,33,80,23,"removeItem"],[97,43,80,33],[97,44,80,34],[97,51,80,41],[97,52,80,42],[98,6,81,4],[98,12,81,10,"AsyncStorage"],[98,24,81,22],[98,25,81,22,"default"],[98,32,81,22],[98,33,81,23,"removeItem"],[98,43,81,33],[98,44,81,34],[98,54,81,44],[98,55,81,45],[99,6,82,4,"setToken"],[99,14,82,12],[99,15,82,13],[99,19,82,17],[99,20,82,18],[100,6,83,4,"setUsername"],[100,17,83,15],[100,18,83,16],[100,22,83,20],[100,23,83,21],[101,6,84,4,"setIsAuthenticated"],[101,24,84,22],[101,25,84,23],[101,30,84,28],[101,31,84,29],[102,4,85,2],[102,5,85,3],[103,4,87,2],[103,24,88,4],[103,28,88,4,"_reactJsxDevRuntime"],[103,47,88,4],[103,48,88,4,"jsxDEV"],[103,54,88,4],[103,56,88,5,"AuthContext"],[103,67,88,16],[103,68,88,17,"Provider"],[103,76,88,25],[104,6,88,26,"value"],[104,11,88,31],[104,13,88,33],[105,8,88,35,"isAuthenticated"],[105,23,88,50],[106,8,88,52,"username"],[106,16,88,60],[107,8,88,62,"token"],[107,13,88,67],[108,8,88,69,"login"],[108,13,88,74],[109,8,88,76,"register"],[109,16,88,84],[110,8,88,86,"logout"],[110,14,88,92],[111,8,88,94,"loading"],[112,6,88,102],[112,7,88,104],[113,6,88,104,"children"],[113,14,88,104],[113,16,89,7,"children"],[114,4,89,15],[115,6,89,15,"fileName"],[115,14,89,15],[115,16,89,15,"_jsxFileName"],[115,28,89,15],[116,6,89,15,"lineNumber"],[116,16,89,15],[117,6,89,15,"columnNumber"],[117,18,89,15],[118,4,89,15],[118,11,90,26],[118,12,90,27],[119,2,92,0],[119,3,92,1],[120,2,94,7],[120,8,94,13,"useAuth"],[120,15,94,20],[120,18,94,23,"useAuth"],[120,19,94,23],[120,24,94,29],[121,4,95,2],[121,10,95,8,"context"],[121,17,95,15],[121,20,95,18],[121,24,95,18,"useContext"],[121,30,95,28],[121,31,95,28,"useContext"],[121,41,95,28],[121,43,95,29,"AuthContext"],[121,54,95,40],[121,55,95,41],[122,4,96,2],[122,8,96,6,"context"],[122,15,96,13],[122,20,96,18,"undefined"],[122,29,96,27],[122,31,96,29],[123,6,97,4],[123,12,97,10],[123,16,97,14,"Error"],[123,21,97,19],[123,22,97,20],[123,67,97,65],[123,68,97,66],[124,4,98,2],[125,4,99,2],[125,11,99,9,"context"],[125,18,99,16],[126,2,100,0],[126,3,100,1],[127,0,100,2],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadToken","login","register","logout","useAuth"],"mappings":"AAA;qECkB;YCM;GDE;oBEE;GFc;gBGE;GHe;mBIE;GJe;iBKE;GLM;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}