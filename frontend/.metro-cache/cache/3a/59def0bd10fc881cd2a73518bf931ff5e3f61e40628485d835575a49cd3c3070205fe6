{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [username, setUsername] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadToken();\n    }, []);\n    const loadToken = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUsername = await AsyncStorage.default.getItem('username');\n        if (storedToken && storedUsername) {\n          setToken(storedToken);\n          setUsername(storedUsername);\n          setIsAuthenticated(true);\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          username: user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('username', user);\n        setToken(access_token);\n        setUsername(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          username: user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('username', user);\n        setToken(access_token);\n        setUsername(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('username');\n      setToken(null);\n      setUsername(null);\n      setIsAuthenticated(false);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        username,\n        token,\n        login,\n        register,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"u4eqYJp7EXlqr63rkGNKMA4RTOA=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":137,"map":[[15,2,19,0,"Object"],[15,8,19,0],[15,9,19,0,"defineProperty"],[15,23,19,0],[15,24,19,0,"exports"],[15,31,19,0],[16,4,19,0,"enumerable"],[16,14,19,0],[17,4,19,0,"get"],[17,7,19,0],[17,18,19,0,"get"],[17,19,19,0],[18,6,19,0],[18,13,19,0,"AuthProvider"],[18,25,19,0],[19,4,19,0],[20,2,19,0],[21,2,94,0,"Object"],[21,8,94,0],[21,9,94,0,"defineProperty"],[21,23,94,0],[21,24,94,0,"exports"],[21,31,94,0],[22,4,94,0,"enumerable"],[22,14,94,0],[23,4,94,0,"get"],[23,7,94,0],[23,18,94,0,"get"],[23,19,94,0],[24,6,94,0],[24,13,94,0,"useAuth"],[24,20,94,0],[25,4,94,0],[26,2,94,0],[27,2,100,2],[27,6,100,2,"_expoVirtualEnv"],[27,21,100,2],[27,24,100,2,"require"],[27,31,100,2],[27,32,100,2,"_dependencyMap"],[27,46,100,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"BACKEND_URL"],[34,19,5,17],[34,22,5,17,"_expoVirtualEnv"],[34,37,5,17],[34,38,5,17,"env"],[34,41,5,17],[34,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[34,65,5,55],[35,2,17,0],[35,8,17,6,"AuthContext"],[35,19,17,17],[35,35,17,20],[35,39,17,20,"createContext"],[35,45,17,33],[35,46,17,33,"createContext"],[35,59,17,33],[35,61,17,63,"undefined"],[35,70,17,72],[35,71,17,73],[36,2,19,7],[36,8,19,13,"AuthProvider"],[36,20,19,66],[36,23,19,69,"AuthProvider"],[36,24,19,70],[37,4,19,72,"children"],[38,2,19,81],[38,3,19,82],[38,8,19,87],[39,4,19,87,"_s"],[39,6,19,87],[40,4,20,2],[40,10,20,8],[40,11,20,9,"isAuthenticated"],[40,26,20,24],[40,28,20,26,"setIsAuthenticated"],[40,46,20,44],[40,47,20,45],[40,50,20,48],[40,54,20,48,"useState"],[40,60,20,56],[40,61,20,56,"useState"],[40,69,20,56],[40,71,20,57],[40,76,20,62],[40,77,20,63],[41,4,21,2],[41,10,21,8],[41,11,21,9,"username"],[41,19,21,17],[41,21,21,19,"setUsername"],[41,32,21,30],[41,33,21,31],[41,36,21,34],[41,40,21,34,"useState"],[41,46,21,42],[41,47,21,42,"useState"],[41,55,21,42],[41,57,21,58],[41,61,21,62],[41,62,21,63],[42,4,22,2],[42,10,22,8],[42,11,22,9,"token"],[42,16,22,14],[42,18,22,16,"setToken"],[42,26,22,24],[42,27,22,25],[42,30,22,28],[42,34,22,28,"useState"],[42,40,22,36],[42,41,22,36,"useState"],[42,49,22,36],[42,51,22,52],[42,55,22,56],[42,56,22,57],[43,4,23,2],[43,10,23,8],[43,11,23,9,"loading"],[43,18,23,16],[43,20,23,18,"setLoading"],[43,30,23,28],[43,31,23,29],[43,34,23,32],[43,38,23,32,"useState"],[43,44,23,40],[43,45,23,40,"useState"],[43,53,23,40],[43,55,23,41],[43,59,23,45],[43,60,23,46],[44,4,25,2],[44,8,25,2,"useEffect"],[44,14,25,11],[44,15,25,11,"useEffect"],[44,24,25,11],[44,26,25,12],[44,32,25,18],[45,6,26,4,"loadToken"],[45,15,26,13],[45,16,26,14],[45,17,26,15],[46,4,27,2],[46,5,27,3],[46,7,27,5],[46,9,27,7],[46,10,27,8],[47,4,29,2],[47,10,29,8,"loadToken"],[47,19,29,17],[47,22,29,20],[47,28,29,20,"loadToken"],[47,29,29,20],[47,34,29,32],[48,6,30,4],[48,10,30,8],[49,8,31,6],[49,14,31,12,"storedToken"],[49,25,31,23],[49,28,31,26],[49,34,31,32,"AsyncStorage"],[49,46,31,44],[49,47,31,44,"default"],[49,54,31,44],[49,55,31,45,"getItem"],[49,62,31,52],[49,63,31,53],[49,70,31,60],[49,71,31,61],[50,8,32,6],[50,14,32,12,"storedUsername"],[50,28,32,26],[50,31,32,29],[50,37,32,35,"AsyncStorage"],[50,49,32,47],[50,50,32,47,"default"],[50,57,32,47],[50,58,32,48,"getItem"],[50,65,32,55],[50,66,32,56],[50,76,32,66],[50,77,32,67],[51,8,33,6],[51,12,33,10,"storedToken"],[51,23,33,21],[51,27,33,25,"storedUsername"],[51,41,33,39],[51,43,33,41],[52,10,34,8,"setToken"],[52,18,34,16],[52,19,34,17,"storedToken"],[52,30,34,28],[52,31,34,29],[53,10,35,8,"setUsername"],[53,21,35,19],[53,22,35,20,"storedUsername"],[53,36,35,34],[53,37,35,35],[54,10,36,8,"setIsAuthenticated"],[54,28,36,26],[54,29,36,27],[54,33,36,31],[54,34,36,32],[55,8,37,6],[56,6,38,4],[56,7,38,5],[56,8,38,6],[56,15,38,13,"error"],[56,20,38,18],[56,22,38,20],[57,8,39,6,"console"],[57,15,39,13],[57,16,39,14,"error"],[57,21,39,19],[57,22,39,20],[57,44,39,42],[57,46,39,44,"error"],[57,51,39,49],[57,52,39,50],[58,6,40,4],[58,7,40,5],[58,16,40,14],[59,8,41,6,"setLoading"],[59,18,41,16],[59,19,41,17],[59,24,41,22],[59,25,41,23],[60,6,42,4],[61,4,43,2],[61,5,43,3],[62,4,45,2],[62,10,45,8,"login"],[62,15,45,13],[62,18,45,16],[62,24,45,16,"login"],[62,25,45,23,"username"],[62,33,45,39],[62,35,45,41,"password"],[62,43,45,57],[62,48,45,62],[63,6,46,4],[63,10,46,8],[64,8,47,6],[64,14,47,12,"response"],[64,22,47,20],[64,25,47,23],[64,31,47,29,"axios"],[64,36,47,34],[64,37,47,34,"default"],[64,44,47,34],[64,45,47,35,"post"],[64,49,47,39],[64,50,47,40],[64,53,47,43,"BACKEND_URL"],[64,64,47,54],[64,81,47,71],[64,83,47,73],[65,10,48,8,"username"],[65,18,48,16],[66,10,49,8,"password"],[67,8,50,6],[67,9,50,7],[67,10,50,8],[68,8,51,6],[68,14,51,12],[69,10,51,14,"access_token"],[69,22,51,26],[70,10,51,28,"username"],[70,18,51,36],[70,20,51,38,"user"],[71,8,51,43],[71,9,51,44],[71,12,51,47,"response"],[71,20,51,55],[71,21,51,56,"data"],[71,25,51,60],[72,8,52,6],[72,14,52,12,"AsyncStorage"],[72,26,52,24],[72,27,52,24,"default"],[72,34,52,24],[72,35,52,25,"setItem"],[72,42,52,32],[72,43,52,33],[72,50,52,40],[72,52,52,42,"access_token"],[72,64,52,54],[72,65,52,55],[73,8,53,6],[73,14,53,12,"AsyncStorage"],[73,26,53,24],[73,27,53,24,"default"],[73,34,53,24],[73,35,53,25,"setItem"],[73,42,53,32],[73,43,53,33],[73,53,53,43],[73,55,53,45,"user"],[73,59,53,49],[73,60,53,50],[74,8,54,6,"setToken"],[74,16,54,14],[74,17,54,15,"access_token"],[74,29,54,27],[74,30,54,28],[75,8,55,6,"setUsername"],[75,19,55,17],[75,20,55,18,"user"],[75,24,55,22],[75,25,55,23],[76,8,56,6,"setIsAuthenticated"],[76,26,56,24],[76,27,56,25],[76,31,56,29],[76,32,56,30],[77,6,57,4],[77,7,57,5],[77,8,57,6],[77,15,57,13,"error"],[77,20,57,23],[77,22,57,25],[78,8,58,6],[78,14,58,12],[78,18,58,16,"Error"],[78,23,58,21],[78,24,58,22,"error"],[78,29,58,27],[78,30,58,28,"response"],[78,38,58,36],[78,40,58,38,"data"],[78,44,58,42],[78,46,58,44,"detail"],[78,52,58,50],[78,56,58,54],[78,70,58,68],[78,71,58,69],[79,6,59,4],[80,4,60,2],[80,5,60,3],[81,4,62,2],[81,10,62,8,"register"],[81,18,62,16],[81,21,62,19],[81,27,62,19,"register"],[81,28,62,26,"username"],[81,36,62,42],[81,38,62,44,"password"],[81,46,62,60],[81,51,62,65],[82,6,63,4],[82,10,63,8],[83,8,64,6],[83,14,64,12,"response"],[83,22,64,20],[83,25,64,23],[83,31,64,29,"axios"],[83,36,64,34],[83,37,64,34,"default"],[83,44,64,34],[83,45,64,35,"post"],[83,49,64,39],[83,50,64,40],[83,53,64,43,"BACKEND_URL"],[83,64,64,54],[83,84,64,74],[83,86,64,76],[84,10,65,8,"username"],[84,18,65,16],[85,10,66,8,"password"],[86,8,67,6],[86,9,67,7],[86,10,67,8],[87,8,68,6],[87,14,68,12],[88,10,68,14,"access_token"],[88,22,68,26],[89,10,68,28,"username"],[89,18,68,36],[89,20,68,38,"user"],[90,8,68,43],[90,9,68,44],[90,12,68,47,"response"],[90,20,68,55],[90,21,68,56,"data"],[90,25,68,60],[91,8,69,6],[91,14,69,12,"AsyncStorage"],[91,26,69,24],[91,27,69,24,"default"],[91,34,69,24],[91,35,69,25,"setItem"],[91,42,69,32],[91,43,69,33],[91,50,69,40],[91,52,69,42,"access_token"],[91,64,69,54],[91,65,69,55],[92,8,70,6],[92,14,70,12,"AsyncStorage"],[92,26,70,24],[92,27,70,24,"default"],[92,34,70,24],[92,35,70,25,"setItem"],[92,42,70,32],[92,43,70,33],[92,53,70,43],[92,55,70,45,"user"],[92,59,70,49],[92,60,70,50],[93,8,71,6,"setToken"],[93,16,71,14],[93,17,71,15,"access_token"],[93,29,71,27],[93,30,71,28],[94,8,72,6,"setUsername"],[94,19,72,17],[94,20,72,18,"user"],[94,24,72,22],[94,25,72,23],[95,8,73,6,"setIsAuthenticated"],[95,26,73,24],[95,27,73,25],[95,31,73,29],[95,32,73,30],[96,6,74,4],[96,7,74,5],[96,8,74,6],[96,15,74,13,"error"],[96,20,74,23],[96,22,74,25],[97,8,75,6],[97,14,75,12],[97,18,75,16,"Error"],[97,23,75,21],[97,24,75,22,"error"],[97,29,75,27],[97,30,75,28,"response"],[97,38,75,36],[97,40,75,38,"data"],[97,44,75,42],[97,46,75,44,"detail"],[97,52,75,50],[97,56,75,54],[97,77,75,75],[97,78,75,76],[98,6,76,4],[99,4,77,2],[99,5,77,3],[100,4,79,2],[100,10,79,8,"logout"],[100,16,79,14],[100,19,79,17],[100,25,79,17,"logout"],[100,26,79,17],[100,31,79,29],[101,6,80,4],[101,12,80,10,"AsyncStorage"],[101,24,80,22],[101,25,80,22,"default"],[101,32,80,22],[101,33,80,23,"removeItem"],[101,43,80,33],[101,44,80,34],[101,51,80,41],[101,52,80,42],[102,6,81,4],[102,12,81,10,"AsyncStorage"],[102,24,81,22],[102,25,81,22,"default"],[102,32,81,22],[102,33,81,23,"removeItem"],[102,43,81,33],[102,44,81,34],[102,54,81,44],[102,55,81,45],[103,6,82,4,"setToken"],[103,14,82,12],[103,15,82,13],[103,19,82,17],[103,20,82,18],[104,6,83,4,"setUsername"],[104,17,83,15],[104,18,83,16],[104,22,83,20],[104,23,83,21],[105,6,84,4,"setIsAuthenticated"],[105,24,84,22],[105,25,84,23],[105,30,84,28],[105,31,84,29],[106,4,85,2],[106,5,85,3],[107,4,87,2],[107,24,88,4],[107,28,88,4,"_reactJsxDevRuntime"],[107,47,88,4],[107,48,88,4,"jsxDEV"],[107,54,88,4],[107,56,88,5,"AuthContext"],[107,67,88,16],[107,68,88,17,"Provider"],[107,76,88,25],[108,6,88,26,"value"],[108,11,88,31],[108,13,88,33],[109,8,88,35,"isAuthenticated"],[109,23,88,50],[110,8,88,52,"username"],[110,16,88,60],[111,8,88,62,"token"],[111,13,88,67],[112,8,88,69,"login"],[112,13,88,74],[113,8,88,76,"register"],[113,16,88,84],[114,8,88,86,"logout"],[114,14,88,92],[115,8,88,94,"loading"],[116,6,88,102],[116,7,88,104],[117,6,88,104,"children"],[117,14,88,104],[117,16,89,7,"children"],[118,4,89,15],[119,6,89,15,"fileName"],[119,14,89,15],[119,16,89,15,"_jsxFileName"],[119,28,89,15],[120,6,89,15,"lineNumber"],[120,16,89,15],[121,6,89,15,"columnNumber"],[121,18,89,15],[122,4,89,15],[122,11,90,26],[122,12,90,27],[123,2,92,0],[123,3,92,1],[124,2,92,2,"_s"],[124,4,92,2],[124,5,19,13,"AuthProvider"],[124,17,19,66],[125,2,19,66,"_c"],[125,4,19,66],[125,7,19,13,"AuthProvider"],[125,19,19,66],[126,2,94,7],[126,8,94,13,"useAuth"],[126,15,94,20],[126,18,94,23,"useAuth"],[126,19,94,23],[126,24,94,29],[127,4,94,29,"_s2"],[127,7,94,29],[128,4,95,2],[128,10,95,8,"context"],[128,17,95,15],[128,20,95,18],[128,24,95,18,"useContext"],[128,30,95,28],[128,31,95,28,"useContext"],[128,41,95,28],[128,43,95,29,"AuthContext"],[128,54,95,40],[128,55,95,41],[129,4,96,2],[129,8,96,6,"context"],[129,15,96,13],[129,20,96,18,"undefined"],[129,29,96,27],[129,31,96,29],[130,6,97,4],[130,12,97,10],[130,16,97,14,"Error"],[130,21,97,19],[130,22,97,20],[130,67,97,65],[130,68,97,66],[131,4,98,2],[132,4,99,2],[132,11,99,9,"context"],[132,18,99,16],[133,2,100,0],[133,3,100,1],[134,2,100,2,"_s2"],[134,5,100,2],[134,6,94,13,"useAuth"],[134,13,94,20],[135,2,94,20],[135,6,94,20,"_c"],[135,8,94,20],[136,2,94,20,"$RefreshReg$"],[136,14,94,20],[136,15,94,20,"_c"],[136,17,94,20],[137,0,94,20],[137,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadToken","login","register","logout","useAuth"],"mappings":"AAA;qECkB;YCM;GDE;oBEE;GFc;gBGE;GHe;mBIE;GJe;iBKE;GLM;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}